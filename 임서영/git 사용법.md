# git 사용법

## 1415 임서영

- ## git을 왜 알아야 할까?

  - 누가 어떤 코드를 언제 수정했는지 트래킹 할 수 있다.
  - 롤백시 직접 일일히 하지 않아도 된다. 
  - 팀 자체의 소스코드를 관리하기 용이하다.

- 로컬 저장소

  작업 디렉토리는 로컬(실제) 파일들로 이루어져 있다.

- 인덱스 

  준비 영역의 역할을 한다.

- HEAD 

  최종 확정본을 나타낸다. 

- 기존 프로젝트를 git으로 관리 하고 싶을 때

  - git init - 새로운 깃 저장소가 만들어 진다. 

    

    ## Git 저장소 만들기

    Git 저장소를 만드는 방법은 두 가지이다. 

    기존 프로젝트를 Git 저장소로 만드는 방법이 있고 다른 서버에 있는 저장소를 Clone하는 방법이 있다.

    - 기존 프로젝트를 Git으로 관리하고 싶을 때, 프로젝트의 디렉토리로 이동해서 아래과 같은 명령을 실행한다.

      ```bash
      git init
      ```

      이 명령은 .git이라는 하위 디렉토리를 만든다.

      `.git` 디렉토리에는 저장소에 필요한 뼈대 파일(Skeleton)이 들어 있 이 명령만으로는 아직 프로젝트의 어떤 파일도 관리하지는 않습니다.

      즉, 새로운 git 저장소가 만진다.

      Git이 파일을 관리하게 하려면 저장소에 파일을 추가하고 커밋해야 합나다. `git add` 명령으로 파일을 추가하고 커밋한다.

    - 존 저장소를 Clone하기

      다른 프로젝트에 참여하거나(Contribute) Git 저장소를 복사하고 싶을 때 `git clone` 명령을 사용한다. 

      실제로 서버의 디스크가 망가져도 클라이언트 저장소 중에서 아무거나 하나 가져다가 복구하면 된다.(서버에만 적용했던 설정은 복구하지 못하지만 모든 데이터는 복구된다)

      `git clone [url]` 명령으로 저장소를 Clone한다. Ruby용 Git 라이브러리인 Grit을 Clone하려면 아래과 같이 실행한다.

      ```bash
      git clone git://github.com/schacon/grit.git
      ```

      `git clone [url]` 명령으로 저장소를 Clone합니다. Ruby용 Git 라이브러리인 Grit을 Clone하려면 아래과 같이 실행한다

      이 명령은 "grit"이라는 디렉토리를 만들고 그 안에 `.git` 디렉토리를 만든다. 그리고 저장소의 데이터를 모두 가져와서 자동으로 가장 최신 버전을 Checkout해 놓는다.

      `grit` 디렉토리로 이동하면 Checkout으로 생성한 파일을 볼 수 있고 당장 하고자 하는 일을 시작할 수 있다.

      ## 수정하고 저장소에 저장하기

      -  git status - 파일의 상태 확인하기

      파일의 상태를 확인하려면 보통 `git status` 명령을 사용한다. Clone한 후에 바로 이 명령을 실행하면 된다. 현재 작업 중인 브랜치를 알려준다

      - git add - 파일을 새로 추적하기

        git add 명령으로 파일을 새로 추적할 수 있다.  명령을 실행하면 Git은 README 파일을 추적한다. `git add`를 하기 전에 어떤 파일을 만들었다면 `git status`를 실행해 보면 파일중에 Git은 `Untracked` 파일을 보여준니다. 이것은 아직 스냅샵(커밋)에 넣어지지 않은 파일이라고 보고 파일이 Tracked상태가 되기 전까지는 Git은 절대 그 파일을 커밋하지 않는다.

      -   git commit - 변경사항 커밋하기

        . Unstaged 상태의 파일은 커밋되지 않는다. 

        Git은 생성하거나 수정하고 나서 git add 명령으로 추가하지 않은 파일은 커밋하지 않는다. 그 파일은 여전히 Modified 상태로 남아 있을 것이다. 

        커밋하기 전에 `git status` 명령으로 모든 것이 Staged 상태인지 확인할 수 있다. 그리고 `git commit`을 실행하여 커밋하도록 한다.

      -  git rm - 파일을 삭제하기

        Git에서 파일을 제거하려면 `git rm` 명령으로 Tracked 상태의 파일을 삭제한 후에(정확하게는 Staging Area에서 삭제하는 것) 커밋해야 한다. 

        이 명령은 워킹 디렉토리에 있는 파일도 삭제하기 때문에 실제로 지워진다.

        만약 Git없이 그냥 파일을 삭제하고 `git status` 명령으로 상태를 확인하면 Changes not staged for commit(즉, **Unstaged**) 에 속한다는 것을 확인할 수 있다:

      -  git push - 변경된 내용 푸쉬(발행)하기

        push는 마지막으로 커밋한 사항을 git repository 에 올리겠다는 뜻이다. push가 안되면 원격 서버에 변경사항이 저장되지 않는다.

        다시말해, 프로젝트를 공유하고 싶을 때 리모트 저장소에 Push할 수 있다. 

        이 명령은 git push [리모트 저장소 이름] [브랜치 이름]으로 단순하다. (Clone하면 보통 자동으로 origin 이름이 생성된다)

        ## 아이디와 비밀번호 저장하기 

        - .gitignore - 파일 무시하기

        어떤 파일은 Git이 자동으로 추가하거나 Untracked 파일이라고 보여줄 필요가 없을 것이다.  보통 로그 파일이나 빌드 시스템이 자동으로 생성한 파일이 이에 해당한다. 그런 파일을 무시하려면 `.gitignore` 파일을 만들고 그 안에 무시할 파일 패턴을 적어야 한다.

        -  git 콘솔에서 다음과 같이 한번만 입력해 놓으면 push나 pull 등 서버에 접속하면서 팝업으로 뜨는 아이디 비밀번호창을 띄우지 않도록 아이디 및 비번을 기억하도록 할 수 있다.

          ```bash
          git config credential.helper store 
          ```

        ## .gitignore - 파일 무시하기 

        -  보통 로그 파일이나 빌드 시스템이 자동으로 생성한 파일을 무시하려면 `.gitignore` 파일을 만들고 그 안에 무시할 파일 패턴을 적는다. 

          아래는 .gitignore 파일의 예이다:

          첫번째 줄은 확장자가 `.o` 나 `.a`인 파일을 Git이 무시하라는 것이고 둘째 줄은 ~로 끝나는 모든 파일을 무시하라는 것이다.

          `.o`와 `.a`는 각각 빌드 시스템이 만들어내는 오브젝트와 아카이브 파일이고 ~로 끝나는 파일은 Emacs나 VI 같은 텍스트 편집기가 임시로 만들어내는 파일이다.  또 log, tmp, pid 같은 디렉토리나, 자동으로 생성하는 문서 같은 것들도 추가할 수 있다. .giignore` 파일은 보통 처음에 만들어 두는 것이 편리하다. 그래서 Git 저장소에 커밋하고 싶지 않은 파일을 실수로 커밋하는 일을 방지할 수 있다.

          - `.gitignore` 파일에 입력하는 패턴은 아래 규칙을 따른다:

            아무것도 없는 줄이나, **#**로 시작하는 줄은 무시한다.

            표준 **Glob 패턴**을 사용한다. 

            디렉토리는 **슬래시(/)**를 끝에 사용하는 것으로 표현한다. 

            느낌표(!)로 시작하는 패턴의 파일은 무시하지 않는다.

          

          **Glob 패턴**은 정규표현식을 단순하게 만든 것으로 생각하면 되고 보통 쉘에서 많이 사용합니다. 

          애스터리스크(*****)는 문자가 하나도 없거나 하나 이상을 의미하고, `[abc]`는 중괄호 안에 있는 문자 중 하나를 의미합니다.(그러니까 이 경우에는 `a, b, c`). 물음표(**?**)는 문자 하나를 말하고, `[0-9]`처럼 중괄호 안의 캐릭터 사이에 하이픈(**-**)을 사용하면 그 캐릭터 사이에 있는 문자 하나를 말한다.

          ## 되돌리기 - Undo

          일을 하다보면 모든 단계에서 어떤 것은 되돌리고(Undo) 싶을 때가 있습니다. 이번에는 우리가 한 일을 되돌리는 방법을 살펴볼 것입니다. 

          한 번 되돌리면 복구할 수 없어서 주의해야 합니다. 

          Git을 사용하면 우리가 한 실수를 복구하지 못할 것은 거의 없지만 **되돌리기는 복구할 수 없다**는 점을 기억해야 합니다.

        - 커밋 수정하기

          종종 완료한 커밋을 수정해야 할 때가 있습니다. 너무 일찍 커밋했거나 어떤 파일을 빼먹었을 때 그리고 커밋 메시지를 잘못 적었을 때 하게 됩니다. 다시 커밋하고 싶으면 `--amend` 옵션을 사용한다:

        -  파일 상태를 Unstage로 변경하기 

          이 방법은 두 영역의 상태를 확인할 때마다 변경된 상태를 되돌리는 방법을 알려주기 때문에 매우 편리하다. 

          예를 들어 파일을 두 개 수정하고서 따로따로 커밋하려고 했지만, 실수로 `git add *` 라고 실행해 버렸다면 두 파일 모두 Staging Area에 들어가 있을 것이다. 

          

          

         

        
